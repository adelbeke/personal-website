---
import { ViewTransitions } from "astro:transitions";

interface Props {
  title: string;
}

const { title } = Astro.props;
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />
    <meta name="darkreader-lock" />

    <!-- SEO -->
    <title>{title} - Software Engineer</title>
    <meta name="description" content="Software Engineer since 2020, based in Paris. Former professional athlete with national titles. Building open source projects and mobile apps." />
    <meta name="author" content={title} />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content={`${title} - Software Engineer`} />
    <meta property="og:description" content="Software Engineer since 2020, based in Paris. Former professional athlete with national titles. Building open source projects and mobile apps." />
    <meta property="og:image" content="/profile.jpg" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content={`${title} - Software Engineer`} />
    <meta name="twitter:description" content="Software Engineer since 2020, based in Paris. Former professional athlete with national titles. Building open source projects and mobile apps." />
    <meta name="twitter:image" content="/profile.jpg" />

    <ViewTransitions />
  </head>
  <body>
    <slot />
    <script>
      // Scroll animations
      const observerOptions = {
        threshold: 0.1,
        rootMargin: "0px 0px -100px 0px",
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add("animate-in");
          }
        });
      }, observerOptions);

      document.addEventListener("astro:page-load", () => {
        document.querySelectorAll(".animate-on-scroll").forEach((el) => {
          observer.observe(el);
        });
      });
    </script>
  </body>
</html>

<style is:global>
  /* TODO: Adjust the color scheme if you want
     (recommendation: Catppuccin - https://catppuccin.com/palette/) */
  :root {
    /* Catppuccin Mocha */
    --ctp-rosewater: #f5e0dc;
    --ctp-flamingo: #f2cdcd;
    --ctp-pink: #f5c2e7;
    --ctp-mauve: #cba6f7;
    --ctp-red: #f38ba8;
    --ctp-maroon: #eba0ac;
    --ctp-peach: #fab387;
    --ctp-yellow: #f9e2af;
    --ctp-green: #a6e3a1;
    --ctp-teal: #94e2d5;
    --ctp-sky: #89dceb;
    --ctp-sapphire: #74c7ec;
    --ctp-blue: #89b4fa;
    --ctp-lavender: #b4befe;
    --ctp-text: #cdd6f4;
    --ctp-subtext1: #bac2de;
    --ctp-subtext0: #a6adc8;
    --ctp-overlay2: #9399b2;
    --ctp-overlay1: #7f849c;
    --ctp-overlay0: #6c7086;
    --ctp-surface2: #585b70;
    --ctp-surface1: #45475a;
    --ctp-surface0: #313244;
    --ctp-base: #1e1e2e;
    --ctp-mantle: #181825;
    --ctp-crust: #11111b;
  }

  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    background-color: var(--ctp-base);
    color: var(--ctp-text);
    font-family:
      -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu,
      Cantarell, sans-serif;
    line-height: 1.6;
  }

  /* Scroll animations */
  .animate-on-scroll {
    opacity: 0;
    transform: translateY(30px);
    transition:
      opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1),
      transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .animate-on-scroll.animate-in {
    opacity: 1;
    transform: translateY(0);
  }

  /* Staggered animation delays */
  .animate-on-scroll:nth-child(1) {
    transition-delay: 0.1s;
  }
  .animate-on-scroll:nth-child(2) {
    transition-delay: 0.2s;
  }
  .animate-on-scroll:nth-child(3) {
    transition-delay: 0.3s;
  }
  .animate-on-scroll:nth-child(4) {
    transition-delay: 0.4s;
  }
</style>
